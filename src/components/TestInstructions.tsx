import axios from "axios";
import { FC } from "react";
import { useNavigate, useParams } from "react-router-dom";

interface TestInstructionsProps {}

//TODO: Fix color of cancel button
const TestInstructions: FC<TestInstructionsProps> = ({}) => {
  const navigate = useNavigate();
  const {testId} = useParams();
  return (
    <div className="flex flex-col justify-between bg-[#282828] rounded-lg shadow-lg p-4 h-[40rem] overflow-y-auto w-[80rem] text-[#e2e2e2] text-2xl">
      <div className="max-w-2xl mx-auto mt-8">
        <h2 className="text-xl font-bold mb-4">About the Test</h2>
        {/* <p>Lorem ipsum dolor, sit amet consectetur adipisicing elit. Quidem, expedita exercitationem magni officiis temporibus cumque ducimus ut fugit accusantium amet veritatis fugiat harum necessitatibus non reprehenderit tempora? Illum, libero laudantium! Lorem ipsum dolor sit amet consectetur adipisicing elit. Quidem nemo quas repellendus, placeat repudiandae labore autem quaerat nesciunt adipisci maiores nihil veritatis quibusdam? Recusandae molestias quisquam ab provident sequi esse. Lorem ipsum dolor sit amet consectetur adipisicing elit. Similique veniam beatae qui. Laudantium voluptates recusandae, a quae magnam sed tenetur eaque, itaque, dolorum officia vero similique cupiditate hic iure veniam. Lorem ipsum dolor, sit amet consectetur adipisicing elit. Atque delectus vero eaque soluta quidem eveniet recusandae! Perspiciatis deleniti dolorum maiores eius, ex architecto obcaecati officia distinctio perferendis aliquid ipsa nulla.</p> */}
        <ul className="list-disc pl-6">
          <li>Total duration of this test is 180 minutes</li>
          <li>The test is of 300 marks</li>
          <li>There will be only 90 questions in this test</li>
          <li>The total number of sections is 3</li>
          <li>
            The sections are
            <ul className="list-disc pl-6 mt-2">
              <li>Section 1: Chemistry consisting of 30 questions.</li>
              <li>Section 2: Math consisting of 30 questions.</li>
              <li>Section 3: Physics consisting of 30 questions.</li>
            </ul>
          </li>
        </ul>
      </div>
      <div className="mt-5 sm:mt-6 sm:flex sm:flex-row-reverse">
        <button
          onClick={async () => {
            // WHY axios.post is not like axios.get. Why do I have to pass an empty body here and not in get request. Am I doing something wrong?
            const response = await axios.post(`http://localhost:8080/api/tests/${testId}/session`, {}, {withCredentials: true})
            navigate("../session")
            /**
             * create a session in backend POST /api/test/:testId/session
             *    1. Initialise session
             *    2. Link it to loggedIn user. Every user should have an ongoingTestSession field
             *    3. Redirect to /tests/:testId/session
             */
          }}
          type="button"
          className="w-full inline-flex justify-center rounded-md shadow-sm px-4 py-2 bg-[#c75c54] text-base font-medium text-[#e2e2e2] hover:bg-[#de4c4a] sm:ml-3 sm:w-auto sm:text-sm"
        >
          Begin
        </button>
        <button
          onClick={() => {
            navigate("/tests");
          }}
          type="button"
          className="mt-3 w-full inline-flex justify-center rounded-md shadow-sm px-4 py-2 bg-[#292929] text-[#d4d4d4] font-medium hover:bg-[#3d3d3d] sm:mt-0 sm:w-auto sm:text-sm"
        >
          Cancel
        </button>
      </div>
    </div>
  );
};

export default TestInstructions;
