import { FC } from "react";
import TestInstructions from "../../components/TestInstructions";
import { LoaderFunction, LoaderFunctionArgs, redirect } from "react-router-dom";
import axios from "axios";

interface TestSessionProps {}

const TestBegin: FC<TestSessionProps> = ({}) => {
  return (
    <div className="min-h-screen bg-[#202020] flex justify-center items-center">
      <TestInstructions />
    </div>
  );
};

export default TestBegin;

export const TestBeginLoader: LoaderFunction = async (args: LoaderFunctionArgs) => {
  console.log("inside tesetbegin loader");
  const response = await axios.get("http://localhost:8080/api/me", {
    withCredentials: true,
  });
  if (!response.data.isLoggedIn) {
    return redirect("/");
  }
  return null;
};
