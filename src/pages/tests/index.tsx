import axios from "axios";
import { FC } from "react";
import { LoaderFunction, LoaderFunctionArgs, useNavigate } from "react-router-dom";

interface TestsProps {}

const Tests: FC<TestsProps> = ({}) => {
  const navigate = useNavigate();
  return (
    <div className="text-slate-200">
      <h1 className="pb-3">Welcome to the tests page!</h1>
      <h2>Available JEE-Main Tests</h2>
      <ol className="list-decimal list-inside">
        <li className="mb-2 hover:cursor-pointer" onClick={() => navigate("9a0191/info")}>6 April, 2023</li>
        <li className="mb-2 hover:cursor-pointer" onClick={() => navigate("7e30f1/info")}>7 April, 2023</li>
        <li className="mb-2 hover:cursor-pointer" onClick={() => navigate("7e30f1/info")}>8 April, 2023</li>
      </ol>
    </div>
  );
};

export default Tests;

const TestsLoader: LoaderFunction = async (args: LoaderFunctionArgs) => {
  console.log("inside Tests.tsx loader");
  const response = await axios.get("http://localhost:8080/api/tests", { withCredentials: true });
  console.log(response.data);
  /** 
   * response.data: {name: string, id: string, ninetyNinePercentileMarks: number, durationInMinutes: number}
   */
};
